<!--
 * @Description: 
 * @version: 
 * @Author: 
 * @Date: 2022-05-06 15:01:21
 * @LastEditors: Please set LastEditors
 * @LastEditTime: 2022-05-10 17:09:44
-->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'">
    <meta http-equiv="X-Content-Security-Policy" content="default-src 'self'; script-src 'self'"> -->
    <title>Hello World!</title>
  </head>
  <body>
    <h1>Hello World!</h1>
    We are using Node.js <span id="node-version"></span>,
    Chromium <span id="chrome-version"></span>,
    and Electron <span id="electron-version"></span>.
    <div id="container"></div>
    <div id="clickThroughElement">clickThroughElement</div>
    <video id="video"></video>
    <script>
        (function(){
            if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices) {
                console.log("不支持 enumerateDevices() .");
                return;
            }
            const enumeratorPromise = navigator.mediaDevices.enumerateDevices().then((d)=>{
                console.log(d,'dddd')
            })
            navigator.mediaDevices.getUserMedia({ audio: true, video: { width: 1280, height: 720 } }).then((mediaStream)=>{
               
                var video = document.querySelector('#video');
                video.srcObject = mediaStream;
                video.onloadedmetadata = function(e) {
                    video.play();
                };
            })
            console.log(enumeratorPromise,'enumeratorPromise')
        })
       console.log(window.electron,'electron')
     
    </script>
  </body>
</html>